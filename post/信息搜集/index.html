<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>信息搜集 | 0opsdc</title><meta name=keywords content="信息搜集"><meta name=description content="信息收集概念 进行渗透测试之前，最重要的一步就是信息收集。
信息收集的主要内容:收集服务器配置信息、网站敏感信息等，包括域名、子域名信息、目标网站系统CMS指纹、目标网站真实IP、开放端口等。
1、收集域名信息 知道目标域名后，第一件事就是获取域名注册信息，包括域名DNS服务器信息及注册人联系信息等。
Whois命令查询 概念:Whois是一个标准互联网协议，可用于收集网络注册信息，如注册域名、IP等。
原理:Whois就是一个用于查询域名是否被注册及注册域名详细信息的数据库。
作用:获得注册人姓名和邮箱，通过社工进一步获取其它信息。
用法：
whois baidu.com	在线Whois查询网站：
站长工具_whois查询工具_爱站网 (aizhan.com)
域名Whois查询 - 站长之家 (chinaz.com)
VirusTotal
2、查询备案信息 概念:网站备案是工具国家法律法规规定，需要网站所有者向国家有关部门申请的备案。这是国家信息产业部对网站的一种管理。
注意:若网站搭建在其他国家，则不需进行备案。
在线备案信息查询网站：
天眼查-商业查询平台_企业信息查询_公司查询_工商查询_企业信用信息系统 (tianyancha.com)
3、收集敏感信息 搜索关键字 通过搜索引擎构造特殊关键字语法来搜索互联网上的相关敏感信息。还可用其来收集数据库文件、SQL注入、配置信息、源码泄露、未授权访问和robots.txt等敏感信息。
常用搜索语法(各搜索引擎大同小异)：
语法 作用 Site 指定域名 Inurl URL存在关键字的网页 Intext 网页正文中的关键字 Filetype 指定文件类型 Intitle 网页标题中的关键字 link link:baidu.com 表示返回所有和baidu.com做了链接的URL Info 查找指定站点的基本信息 cache 搜索Google中关于某些内容的缓存 一般可以把语法结合使用以获得更准确的信息。
使用Burp Suite的Repeater模块 将抓到的包发送至Repeater模块，查看服务器端的响应包。可以获得一些服务器信息，如Server类型及版本、PHP版本信息等。
GitHub信息泄露 可以尝试在GitHub上搜寻敏感信息，如数据库连接信息、uc-key、阿里osskey、邮箱帐密等。
4、收集子域名 子域名，即二级域名，指顶级域名之下的域名。假设目标网站规模较大，一般来说从主站入手都是极不理智的选择，这时我们就可以考虑从子域迂回接近目标。
子域名检测工具 Layer子域名挖掘机：较为常用，有域名、解析IP、CDN列表、Web服务器和网站状态。
subDomainBrute：用小字典递归发现三级、四级甚至是五级域名。
Sublist3r：能列举多种资源，如在Google、Yahoo、Bing、Baidu和Ask等搜索引擎中可查到的子域名，还可列出Netcraft、VirusTota、ThreatCrow、DNSdumpster和Reverse DNS查到的子域名。
利用搜索引擎语法 利用site语法搜索与某域名相关的网页信息。
证书透明度公开日志枚举 证书透明度（Certificate Transparency, CT）:是证书授权机构(CA)的一个项目，证书授权机构会将每个SSL/TLS证书发布到公共日志中。
SSL/TLS证书通常包含域名、子域名和邮件信息，这些也经常成为攻击者想获得的信息。
在线网站："><meta name=author content="0opsdc"><link rel=canonical href=https://oopsdc.com/post/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/><link crossorigin=anonymous href=/assets/css/stylesheet.56b5cc8c8054cf5f30eac4b81af2021f829171098f6e116bb016ed77e3264a36.css integrity="sha256-VrXMjIBUz18w6sS4GvICH4KRcQmPbhFrsBbtd+MmSjY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/favicon.png><link rel=apple-touch-icon href=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/favicon.png><link rel=mask-icon href=https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="信息搜集"><meta property="og:description" content="信息收集概念 进行渗透测试之前，最重要的一步就是信息收集。
信息收集的主要内容:收集服务器配置信息、网站敏感信息等，包括域名、子域名信息、目标网站系统CMS指纹、目标网站真实IP、开放端口等。
1、收集域名信息 知道目标域名后，第一件事就是获取域名注册信息，包括域名DNS服务器信息及注册人联系信息等。
Whois命令查询 概念:Whois是一个标准互联网协议，可用于收集网络注册信息，如注册域名、IP等。
原理:Whois就是一个用于查询域名是否被注册及注册域名详细信息的数据库。
作用:获得注册人姓名和邮箱，通过社工进一步获取其它信息。
用法：
whois baidu.com	在线Whois查询网站：
站长工具_whois查询工具_爱站网 (aizhan.com)
域名Whois查询 - 站长之家 (chinaz.com)
VirusTotal
2、查询备案信息 概念:网站备案是工具国家法律法规规定，需要网站所有者向国家有关部门申请的备案。这是国家信息产业部对网站的一种管理。
注意:若网站搭建在其他国家，则不需进行备案。
在线备案信息查询网站：
天眼查-商业查询平台_企业信息查询_公司查询_工商查询_企业信用信息系统 (tianyancha.com)
3、收集敏感信息 搜索关键字 通过搜索引擎构造特殊关键字语法来搜索互联网上的相关敏感信息。还可用其来收集数据库文件、SQL注入、配置信息、源码泄露、未授权访问和robots.txt等敏感信息。
常用搜索语法(各搜索引擎大同小异)：
语法 作用 Site 指定域名 Inurl URL存在关键字的网页 Intext 网页正文中的关键字 Filetype 指定文件类型 Intitle 网页标题中的关键字 link link:baidu.com 表示返回所有和baidu.com做了链接的URL Info 查找指定站点的基本信息 cache 搜索Google中关于某些内容的缓存 一般可以把语法结合使用以获得更准确的信息。
使用Burp Suite的Repeater模块 将抓到的包发送至Repeater模块，查看服务器端的响应包。可以获得一些服务器信息，如Server类型及版本、PHP版本信息等。
GitHub信息泄露 可以尝试在GitHub上搜寻敏感信息，如数据库连接信息、uc-key、阿里osskey、邮箱帐密等。
4、收集子域名 子域名，即二级域名，指顶级域名之下的域名。假设目标网站规模较大，一般来说从主站入手都是极不理智的选择，这时我们就可以考虑从子域迂回接近目标。
子域名检测工具 Layer子域名挖掘机：较为常用，有域名、解析IP、CDN列表、Web服务器和网站状态。
subDomainBrute：用小字典递归发现三级、四级甚至是五级域名。
Sublist3r：能列举多种资源，如在Google、Yahoo、Bing、Baidu和Ask等搜索引擎中可查到的子域名，还可列出Netcraft、VirusTota、ThreatCrow、DNSdumpster和Reverse DNS查到的子域名。
利用搜索引擎语法 利用site语法搜索与某域名相关的网页信息。
证书透明度公开日志枚举 证书透明度（Certificate Transparency, CT）:是证书授权机构(CA)的一个项目，证书授权机构会将每个SSL/TLS证书发布到公共日志中。
SSL/TLS证书通常包含域名、子域名和邮件信息，这些也经常成为攻击者想获得的信息。
在线网站："><meta property="og:type" content="article"><meta property="og:url" content="https://oopsdc.com/post/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/"><meta property="og:image" content="https://oopsdc.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-06-25T15:36:18+08:00"><meta property="article:modified_time" content="2021-06-25T15:36:18+08:00"><meta property="og:site_name" content="0opsdc"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oopsdc.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="信息搜集"><meta name=twitter:description content="信息收集概念 进行渗透测试之前，最重要的一步就是信息收集。
信息收集的主要内容:收集服务器配置信息、网站敏感信息等，包括域名、子域名信息、目标网站系统CMS指纹、目标网站真实IP、开放端口等。
1、收集域名信息 知道目标域名后，第一件事就是获取域名注册信息，包括域名DNS服务器信息及注册人联系信息等。
Whois命令查询 概念:Whois是一个标准互联网协议，可用于收集网络注册信息，如注册域名、IP等。
原理:Whois就是一个用于查询域名是否被注册及注册域名详细信息的数据库。
作用:获得注册人姓名和邮箱，通过社工进一步获取其它信息。
用法：
whois baidu.com	在线Whois查询网站：
站长工具_whois查询工具_爱站网 (aizhan.com)
域名Whois查询 - 站长之家 (chinaz.com)
VirusTotal
2、查询备案信息 概念:网站备案是工具国家法律法规规定，需要网站所有者向国家有关部门申请的备案。这是国家信息产业部对网站的一种管理。
注意:若网站搭建在其他国家，则不需进行备案。
在线备案信息查询网站：
天眼查-商业查询平台_企业信息查询_公司查询_工商查询_企业信用信息系统 (tianyancha.com)
3、收集敏感信息 搜索关键字 通过搜索引擎构造特殊关键字语法来搜索互联网上的相关敏感信息。还可用其来收集数据库文件、SQL注入、配置信息、源码泄露、未授权访问和robots.txt等敏感信息。
常用搜索语法(各搜索引擎大同小异)：
语法 作用 Site 指定域名 Inurl URL存在关键字的网页 Intext 网页正文中的关键字 Filetype 指定文件类型 Intitle 网页标题中的关键字 link link:baidu.com 表示返回所有和baidu.com做了链接的URL Info 查找指定站点的基本信息 cache 搜索Google中关于某些内容的缓存 一般可以把语法结合使用以获得更准确的信息。
使用Burp Suite的Repeater模块 将抓到的包发送至Repeater模块，查看服务器端的响应包。可以获得一些服务器信息，如Server类型及版本、PHP版本信息等。
GitHub信息泄露 可以尝试在GitHub上搜寻敏感信息，如数据库连接信息、uc-key、阿里osskey、邮箱帐密等。
4、收集子域名 子域名，即二级域名，指顶级域名之下的域名。假设目标网站规模较大，一般来说从主站入手都是极不理智的选择，这时我们就可以考虑从子域迂回接近目标。
子域名检测工具 Layer子域名挖掘机：较为常用，有域名、解析IP、CDN列表、Web服务器和网站状态。
subDomainBrute：用小字典递归发现三级、四级甚至是五级域名。
Sublist3r：能列举多种资源，如在Google、Yahoo、Bing、Baidu和Ask等搜索引擎中可查到的子域名，还可列出Netcraft、VirusTota、ThreatCrow、DNSdumpster和Reverse DNS查到的子域名。
利用搜索引擎语法 利用site语法搜索与某域名相关的网页信息。
证书透明度公开日志枚举 证书透明度（Certificate Transparency, CT）:是证书授权机构(CA)的一个项目，证书授权机构会将每个SSL/TLS证书发布到公共日志中。
SSL/TLS证书通常包含域名、子域名和邮件信息，这些也经常成为攻击者想获得的信息。
在线网站："><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://oopsdc.com/post/"},{"@type":"ListItem","position":2,"name":"信息搜集","item":"https://oopsdc.com/post/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"信息搜集","name":"信息搜集","description":"信息收集概念 进行渗透测试之前，最重要的一步就是信息收集。\n信息收集的主要内容:收集服务器配置信息、网站敏感信息等，包括域名、子域名信息、目标网站系统CMS指纹、目标网站真实IP、开放端口等。\n1、收集域名信息 知道目标域名后，第一件事就是获取域名注册信息，包括域名DNS服务器信息及注册人联系信息等。\nWhois命令查询 概念:Whois是一个标准互联网协议，可用于收集网络注册信息，如注册域名、IP等。\n原理:Whois就是一个用于查询域名是否被注册及注册域名详细信息的数据库。\n作用:获得注册人姓名和邮箱，通过社工进一步获取其它信息。\n用法：\nwhois baidu.com\t在线Whois查询网站：\n站长工具_whois查询工具_爱站网 (aizhan.com)\n域名Whois查询 - 站长之家 (chinaz.com)\nVirusTotal\n2、查询备案信息 概念:网站备案是工具国家法律法规规定，需要网站所有者向国家有关部门申请的备案。这是国家信息产业部对网站的一种管理。\n注意:若网站搭建在其他国家，则不需进行备案。\n在线备案信息查询网站：\n天眼查-商业查询平台_企业信息查询_公司查询_工商查询_企业信用信息系统 (tianyancha.com)\n3、收集敏感信息 搜索关键字 通过搜索引擎构造特殊关键字语法来搜索互联网上的相关敏感信息。还可用其来收集数据库文件、SQL注入、配置信息、源码泄露、未授权访问和robots.txt等敏感信息。\n常用搜索语法(各搜索引擎大同小异)：\n语法 作用 Site 指定域名 Inurl URL存在关键字的网页 Intext 网页正文中的关键字 Filetype 指定文件类型 Intitle 网页标题中的关键字 link link:baidu.com 表示返回所有和baidu.com做了链接的URL Info 查找指定站点的基本信息 cache 搜索Google中关于某些内容的缓存 一般可以把语法结合使用以获得更准确的信息。\n使用Burp Suite的Repeater模块 将抓到的包发送至Repeater模块，查看服务器端的响应包。可以获得一些服务器信息，如Server类型及版本、PHP版本信息等。\nGitHub信息泄露 可以尝试在GitHub上搜寻敏感信息，如数据库连接信息、uc-key、阿里osskey、邮箱帐密等。\n4、收集子域名 子域名，即二级域名，指顶级域名之下的域名。假设目标网站规模较大，一般来说从主站入手都是极不理智的选择，这时我们就可以考虑从子域迂回接近目标。\n子域名检测工具 Layer子域名挖掘机：较为常用，有域名、解析IP、CDN列表、Web服务器和网站状态。\nsubDomainBrute：用小字典递归发现三级、四级甚至是五级域名。\nSublist3r：能列举多种资源，如在Google、Yahoo、Bing、Baidu和Ask等搜索引擎中可查到的子域名，还可列出Netcraft、VirusTota、ThreatCrow、DNSdumpster和Reverse DNS查到的子域名。\n利用搜索引擎语法 利用site语法搜索与某域名相关的网页信息。\n证书透明度公开日志枚举 证书透明度（Certificate Transparency, CT）:是证书授权机构(CA)的一个项目，证书授权机构会将每个SSL/TLS证书发布到公共日志中。\nSSL/TLS证书通常包含域名、子域名和邮件信息，这些也经常成为攻击者想获得的信息。\n在线网站：","keywords":["信息搜集"],"articleBody":"信息收集概念 进行渗透测试之前，最重要的一步就是信息收集。\n信息收集的主要内容:收集服务器配置信息、网站敏感信息等，包括域名、子域名信息、目标网站系统CMS指纹、目标网站真实IP、开放端口等。\n1、收集域名信息 知道目标域名后，第一件事就是获取域名注册信息，包括域名DNS服务器信息及注册人联系信息等。\nWhois命令查询 概念:Whois是一个标准互联网协议，可用于收集网络注册信息，如注册域名、IP等。\n原理:Whois就是一个用于查询域名是否被注册及注册域名详细信息的数据库。\n作用:获得注册人姓名和邮箱，通过社工进一步获取其它信息。\n用法：\nwhois baidu.com\t在线Whois查询网站：\n站长工具_whois查询工具_爱站网 (aizhan.com)\n域名Whois查询 - 站长之家 (chinaz.com)\nVirusTotal\n2、查询备案信息 概念:网站备案是工具国家法律法规规定，需要网站所有者向国家有关部门申请的备案。这是国家信息产业部对网站的一种管理。\n注意:若网站搭建在其他国家，则不需进行备案。\n在线备案信息查询网站：\n天眼查-商业查询平台_企业信息查询_公司查询_工商查询_企业信用信息系统 (tianyancha.com)\n3、收集敏感信息 搜索关键字 通过搜索引擎构造特殊关键字语法来搜索互联网上的相关敏感信息。还可用其来收集数据库文件、SQL注入、配置信息、源码泄露、未授权访问和robots.txt等敏感信息。\n常用搜索语法(各搜索引擎大同小异)：\n语法 作用 Site 指定域名 Inurl URL存在关键字的网页 Intext 网页正文中的关键字 Filetype 指定文件类型 Intitle 网页标题中的关键字 link link:baidu.com 表示返回所有和baidu.com做了链接的URL Info 查找指定站点的基本信息 cache 搜索Google中关于某些内容的缓存 一般可以把语法结合使用以获得更准确的信息。\n使用Burp Suite的Repeater模块 将抓到的包发送至Repeater模块，查看服务器端的响应包。可以获得一些服务器信息，如Server类型及版本、PHP版本信息等。\nGitHub信息泄露 可以尝试在GitHub上搜寻敏感信息，如数据库连接信息、uc-key、阿里osskey、邮箱帐密等。\n4、收集子域名 子域名，即二级域名，指顶级域名之下的域名。假设目标网站规模较大，一般来说从主站入手都是极不理智的选择，这时我们就可以考虑从子域迂回接近目标。\n子域名检测工具 Layer子域名挖掘机：较为常用，有域名、解析IP、CDN列表、Web服务器和网站状态。\nsubDomainBrute：用小字典递归发现三级、四级甚至是五级域名。\nSublist3r：能列举多种资源，如在Google、Yahoo、Bing、Baidu和Ask等搜索引擎中可查到的子域名，还可列出Netcraft、VirusTota、ThreatCrow、DNSdumpster和Reverse DNS查到的子域名。\n利用搜索引擎语法 利用site语法搜索与某域名相关的网页信息。\n证书透明度公开日志枚举 证书透明度（Certificate Transparency, CT）:是证书授权机构(CA)的一个项目，证书授权机构会将每个SSL/TLS证书发布到公共日志中。\nSSL/TLS证书通常包含域名、子域名和邮件信息，这些也经常成为攻击者想获得的信息。\n在线网站：\neasyDNS Parked Page for: scrt.sh\nCensys Search\n5、端口收集 通过扫描服务器开放端口及端口状态判断服务器存在的服务，进一步定制化攻击。\n收集工具:\nNmap\n无状态端口扫描工具Masscan\nZMap\n御剑高速TCP端口扫描工具\n常见端口及说明 文件共享服务端口:\n端口号 端口说明 攻击思路 21/22/69 Ftp/Tftp文件传输协议 允许匿名上传、下载、爆破和嗅探操作 139 Samba服务 爆破、未授权访问、远程代码执行 389 Ldap目录访问协议 注入、允许匿名访问、弱口令 2049 Nfs服务 配置不当 远程连接服务端口:\n端口号 端口说明 攻击思路 22 SSH远程连接 爆破、文件传输、SSH隧道及内网代理转发 23 Telnet远程连接 爆破、嗅探、弱口令 3389 Rdp远程桌面连接 爆破、Shift(Windows Server 2k3以下系统) 5632 PyAnywhere 抓取密码、代码执行 5900 VNC 弱口令爆破 Web应用服务端口:\n端口号 端口说明 攻击思路 80/443/8080 常见Web服务端口 爆破、Web攻击、对应服务器版本漏洞 1352 Lotus domino邮件服务 爆破、弱口令、信息泄露 4848 Glassfish控制台 弱口令 7001/7002 WebLogic控制台 弱口令、Java反序列化 8080/8089 Jboss/Resin/Jetty/Jenkins 反序列化、控制台弱口令 9090 WebSphere控制台 弱口令、Java反序列化 10000 Webmin-Web控制面板 弱口令 数据库服务端口:\n端口号 端口说明 攻击思路 1433 MSSQL 注入、提权、爆破、SA弱口令 1521 Oracle 注入、TNS爆破、反弹shell 3306 MySQL 注入、提权、爆破 5000 SysBase/DB2 爆破、注入 5432 PostgreSQL 爆破、注入、弱口令 6379 Redis 弱口令爆破、未授权访问 27017/27018 MongoDB 爆破、未授权访问 邮件服务端口：\n端口号 端口说明 攻击思路 25 SMTP邮件服务 邮件伪造 110 POP3协议 爆破、嗅探 143 IMAP协议 爆破 常见协议端口：\n端口号 端口说明 攻击思路 53 DNS域名系统 域传送、缓存投毒、DNS欺骗、DNS劫持 67/68 DHCP服务 欺骗、劫持 161 SNMP协议 爆破、搜索目标内网信息 特殊服务端口：\n端口号 端口说明 攻击思路 512/513/514 Linux Rexec服务 爆破、Rlogin登录 873 Rsync服务 匿名访问、文件上传 2181 Zookeeper服务 未授权访问 3690 Svn服务 Svn泄露、未授权访问 8069 Zabbix服务 远程执行、SQL注入 9200/9300 Elasticsearch服务 远程执行 11211 Memcache服务 未授权访问 50000 SAP Management Console 远程执行 6、指纹识别(CMS) 注意:指纹由于其终身不变性、唯一性和方便性，几乎已成为生物特征识别的代名词。本文所讲的指纹是指网站CMS指纹识别、计算机操作系统及Web容器指纹识别等。\n概念:应用程序一般在HTML、CSS等文件中多少包含一些特征码，如WordPress在robots.txt中会包含wp-admin，index.php中会包含generator=wordpress 3.xx。这个特征就是CMS的指纹，当遇到其它网站也存在此特征时，即可快速判断CMS。\nCMS(Content Managements System):又称整站系统或文章系统。在2004年之前，若想对网站进行内容管理，基本都需要手工维护，但在信息爆炸的时代，这明显不是一种可行的方式，所以出现了CMS。客户只需安装好开发者提供的软件包，进行对应的环境配置即可定期更新数据来维护网站，节省了大量人力物力。\n常见CMS：Dedecms(织梦)、PHPWEB、PHPWind、PHPCMS、ECShop、Dvbbs、SiteWeaver、ASPCMS、帝国、Z-Blog WordPress等。\n常用工具:御剑Web指纹识别、WhatWeb WebRobo、椰树、轻量Web指纹识别等。\n在线CMS指纹识别：\n云悉互联网WEB资产在线梳理|在线CMS指纹识别平台 - 云悉安全平台 (yunsee.cn)\nWhatWeb - Next generation web scanner.\n7、绕过CDN寻找真实IP CDN: 内容分发网络(Content Delivery Network)，主要解决因传输距离和不同运营商节点造成的网络速度性能低下的问题。简要来说，就是一组在不同运营商之间的对接节点上的高速缓存服务器，把用户经常访问的静态数据资源(如静态HTML、CSS、JS图片等文件)直接缓存到节点服务器上，当用户再次请求时，会直接分发到离用户最近的节点服务器上响应用户请求，当用户有实际数据交互时才会从远程Web服务器上响应，这样可以大大提高网站响应速度及用户体验。\n目标网站有CDN:可以直接ping目标域名，但得到的只是离我们最近的一台目标节点CDN服务器，无法获取目标真实IP。\n观察目标是否使用CDN 通过网站测速|网站速度测试|网速测试|电信|联通|网通|全国|监控|CDN|PING|DNS 17CE.COM实现全国多地ping服务器的操作，对比解析IP是否一致，若解析IP大多不一致或规律性强，则进一步查询IP归属地进行判断。\n绕过CDN寻找真实IP 内部邮箱源 一般系统邮件服务器都在内部，并不会经过CDN解析，通过目标网站用户注册或RSS订阅来查看邮件、寻找邮件头中的邮件服务域名IP，ping这个域名就能获得目标真实IP。\n注:此方法对于第三方或公共邮件服务器无效。\n扫描网站测试文件 如phpinfo、test等，从而找到目标真实IP。\n分站域名 一些大网站主站访问量大，所以需要挂CDN，但分站就不一样了。我们可以通过ping二级域名获取分站IP，存在主站和分站不是一个IP，但属于一个C段的可能。\n国外访问 国内CDN往往只针对国内用户访问加速，国外CDN则不一定。通过国外在线代理网站访问就有可能获得真实IP。\n其它方式 查询域名解析记录:如果目标很久未使用CDN，可以通过Netcraft | Internet Research, Cybercrime Disruption and PCI Security Services观察域名IP的历史记录，也能够大致分析出目标C段。\nAPP：如果目标有自己的APP，可以尝试用Fiddler或bp抓包找真实IP。\n绕过Cloud Flare CDN：通过https://simcast.com/查询目标真实IP。\n验证IP 最简单的方式就是直接访问。\n在目标C段较大的情况下，尝试使用Masscan工具批量扫描对应IP段中所有打开对应端口的IP，逐个访问验证。\n8、收集敏感目录文件 概念：探测Web目录结构及隐藏敏感文件是渗透测试不可缺少的环节，我们可以从中获取网站后台管理页面、文件上传页面甚至部分源码。\n常用工具：\n御剑后台扫描珍藏版\nDirBuster\n同IP网站查询,C段查询,IP反查域名,C段旁注,旁注工具 (webscan.cc)\n9、社会工程学 应用场景：通过钓鱼、查水表等方式获取信息。\n文章许可：本文采用CC BY-NC-SA 4.0许可协议，转载请注明出处。\n","wordCount":"301","inLanguage":"en","datePublished":"2021-06-25T15:36:18+08:00","dateModified":"2021-06-25T15:36:18+08:00","author":{"@type":"Person","name":"0opsdc"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://oopsdc.com/post/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/"},"publisher":{"@type":"Organization","name":"0opsdc","logo":{"@type":"ImageObject","url":"https://gitee.com/oopsdc/PicBed/raw/master/oopsdc.tk/favicon.png"}}}</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://oopsdc.com/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://oopsdc.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://oopsdc.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://oopsdc.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://oopsdc.com/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://oopsdc.com/>Home</a>&nbsp;»&nbsp;<a href=https://oopsdc.com/post/>Posts</a></div><h1 class=post-title>信息搜集</h1><div class=post-meta>Created:&nbsp;<span title='2021-06-25 15:36:18 +0800 CST'>2021-06-25</span>&nbsp;·&nbsp;Updated:&nbsp;2021-06-25&nbsp;·&nbsp;0opsdc<div class=meta-item>&nbsp·&nbsp
        <span id=busuanzi_container_page_pv>Article Views: <span id=busuanzi_value_page_pv></span> times</span></div></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%bf%a1%e6%81%af%e6%94%b6%e9%9b%86%e6%a6%82%e5%bf%b5 aria-label=信息收集概念>信息收集概念</a></li><li><a href=#1%e6%94%b6%e9%9b%86%e5%9f%9f%e5%90%8d%e4%bf%a1%e6%81%af aria-label=1、收集域名信息>1、收集域名信息</a><ul><li><a href=#whois%e5%91%bd%e4%bb%a4%e6%9f%a5%e8%af%a2 aria-label=Whois命令查询>Whois命令查询</a></li></ul></li><li><a href=#2%e6%9f%a5%e8%af%a2%e5%a4%87%e6%a1%88%e4%bf%a1%e6%81%af aria-label=2、查询备案信息>2、查询备案信息</a></li><li><a href=#3%e6%94%b6%e9%9b%86%e6%95%8f%e6%84%9f%e4%bf%a1%e6%81%af aria-label=3、收集敏感信息>3、收集敏感信息</a><ul><li><a href=#%e6%90%9c%e7%b4%a2%e5%85%b3%e9%94%ae%e5%ad%97 aria-label=搜索关键字>搜索关键字</a></li><li><a href=#%e4%bd%bf%e7%94%a8burp-suite%e7%9a%84repeater%e6%a8%a1%e5%9d%97 aria-label="使用Burp Suite的Repeater模块">使用Burp Suite的Repeater模块</a></li><li><a href=#github%e4%bf%a1%e6%81%af%e6%b3%84%e9%9c%b2 aria-label=GitHub信息泄露>GitHub信息泄露</a></li></ul></li><li><a href=#4%e6%94%b6%e9%9b%86%e5%ad%90%e5%9f%9f%e5%90%8d aria-label=4、收集子域名>4、收集子域名</a><ul><ul><li><a href=#%e5%ad%90%e5%9f%9f%e5%90%8d%e6%a3%80%e6%b5%8b%e5%b7%a5%e5%85%b7 aria-label=子域名检测工具>子域名检测工具</a></li><li><a href=#%e5%88%a9%e7%94%a8%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e8%af%ad%e6%b3%95 aria-label=利用搜索引擎语法>利用搜索引擎语法</a></li><li><a href=#%e8%af%81%e4%b9%a6%e9%80%8f%e6%98%8e%e5%ba%a6%e5%85%ac%e5%bc%80%e6%97%a5%e5%bf%97%e6%9e%9a%e4%b8%be aria-label=证书透明度公开日志枚举>证书透明度公开日志枚举</a></li></ul></ul></li><li><a href=#5%e7%ab%af%e5%8f%a3%e6%94%b6%e9%9b%86 aria-label=5、端口收集>5、端口收集</a><ul><li><a href=#%e5%b8%b8%e8%a7%81%e7%ab%af%e5%8f%a3%e5%8f%8a%e8%af%b4%e6%98%8e aria-label=常见端口及说明>常见端口及说明</a></li></ul></li><li><a href=#6%e6%8c%87%e7%ba%b9%e8%af%86%e5%88%abcms aria-label=6、指纹识别(CMS)>6、指纹识别(CMS)</a></li><li><a href=#7%e7%bb%95%e8%bf%87cdn%e5%af%bb%e6%89%be%e7%9c%9f%e5%ae%9eip aria-label=7、绕过CDN寻找真实IP>7、绕过CDN寻找真实IP</a><ul><li><a href=#%e8%a7%82%e5%af%9f%e7%9b%ae%e6%a0%87%e6%98%af%e5%90%a6%e4%bd%bf%e7%94%a8cdn aria-label=观察目标是否使用CDN>观察目标是否使用CDN</a></li><li><a href=#%e7%bb%95%e8%bf%87cdn%e5%af%bb%e6%89%be%e7%9c%9f%e5%ae%9eip aria-label=绕过CDN寻找真实IP>绕过CDN寻找真实IP</a><ul><li><a href=#%e5%86%85%e9%83%a8%e9%82%ae%e7%ae%b1%e6%ba%90 aria-label=内部邮箱源>内部邮箱源</a></li><li><a href=#%e6%89%ab%e6%8f%8f%e7%bd%91%e7%ab%99%e6%b5%8b%e8%af%95%e6%96%87%e4%bb%b6 aria-label=扫描网站测试文件>扫描网站测试文件</a></li><li><a href=#%e5%88%86%e7%ab%99%e5%9f%9f%e5%90%8d aria-label=分站域名>分站域名</a></li><li><a href=#%e5%9b%bd%e5%a4%96%e8%ae%bf%e9%97%ae aria-label=国外访问>国外访问</a></li><li><a href=#%e5%85%b6%e5%ae%83%e6%96%b9%e5%bc%8f aria-label=其它方式>其它方式</a></li><li><a href=#%e9%aa%8c%e8%af%81ip aria-label=验证IP>验证IP</a></li></ul></li></ul></li><li><a href=#8%e6%94%b6%e9%9b%86%e6%95%8f%e6%84%9f%e7%9b%ae%e5%bd%95%e6%96%87%e4%bb%b6 aria-label=8、收集敏感目录文件>8、收集敏感目录文件</a></li><li><a href=#9%e7%a4%be%e4%bc%9a%e5%b7%a5%e7%a8%8b%e5%ad%a6 aria-label=9、社会工程学>9、社会工程学</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=信息收集概念>信息收集概念<a hidden class=anchor aria-hidden=true href=#信息收集概念>#</a></h1><p>进行渗透测试之前，最重要的一步就是信息收集。</p><p>信息收集的主要内容:收集服务器配置信息、网站敏感信息等，包括域名、子域名信息、目标网站系统CMS指纹、目标网站真实IP、开放端口等。</p><h1 id=1收集域名信息>1、收集域名信息<a hidden class=anchor aria-hidden=true href=#1收集域名信息>#</a></h1><p>知道目标域名后，第一件事就是获取域名注册信息，包括域名<code>DNS服务器</code>信息及注册人联系信息等。</p><h2 id=whois命令查询>Whois命令查询<a hidden class=anchor aria-hidden=true href=#whois命令查询>#</a></h2><p>概念:<code>Whois</code>是一个标准互联网协议，可用于收集网络注册信息，如注册域名、<code>IP</code>等。</p><p>原理:<code>Whois</code>就是一个用于查询域名是否被注册及注册域名详细信息的数据库。</p><p>作用:获得注册人姓名和邮箱，通过社工进一步获取其它信息。</p><p>用法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>whois baidu.com	
</span></span></code></pre></div><p>在线<code>Whois</code>查询网站：</p><p><a href=https://whois.aizhan.com/>站长工具_whois查询工具_爱站网 (aizhan.com)</a></p><p><a href=http://whois.chinaz.com/>域名Whois查询 - 站长之家 (chinaz.com)</a></p><p><a href=https://www.virustotal.com/gui/>VirusTotal</a></p><h1 id=2查询备案信息>2、查询备案信息<a hidden class=anchor aria-hidden=true href=#2查询备案信息>#</a></h1><p>概念:网站备案是工具国家法律法规规定，需要网站所有者向国家有关部门申请的备案。这是国家信息产业部对网站的一种管理。</p><p>注意:若网站搭建在其他国家，则不需进行备案。</p><p>在线备案信息查询网站：</p><p><a href=https://www.tianyancha.com/>天眼查-商业查询平台_企业信息查询_公司查询_工商查询_企业信用信息系统 (tianyancha.com)</a></p><h1 id=3收集敏感信息>3、收集敏感信息<a hidden class=anchor aria-hidden=true href=#3收集敏感信息>#</a></h1><h2 id=搜索关键字>搜索关键字<a hidden class=anchor aria-hidden=true href=#搜索关键字>#</a></h2><p>通过搜索引擎构造特殊关键字语法来搜索互联网上的相关敏感信息。还可用其来收集数据库文件、<code>SQL注入</code>、配置信息、源码泄露、未授权访问和<code>robots.txt</code>等敏感信息。</p><p>常用搜索语法(各搜索引擎大同小异)：</p><table><thead><tr><th style=text-align:center>语法</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>Site</td><td style=text-align:center>指定域名</td></tr><tr><td style=text-align:center>Inurl</td><td style=text-align:center>URL存在关键字的网页</td></tr><tr><td style=text-align:center>Intext</td><td style=text-align:center>网页正文中的关键字</td></tr><tr><td style=text-align:center>Filetype</td><td style=text-align:center>指定文件类型</td></tr><tr><td style=text-align:center>Intitle</td><td style=text-align:center>网页标题中的关键字</td></tr><tr><td style=text-align:center>link</td><td style=text-align:center>link:baidu.com 表示返回所有和baidu.com做了链接的URL</td></tr><tr><td style=text-align:center>Info</td><td style=text-align:center>查找指定站点的基本信息</td></tr><tr><td style=text-align:center>cache</td><td style=text-align:center>搜索Google中关于某些内容的缓存</td></tr></tbody></table><p>一般可以把语法结合使用以获得更准确的信息。</p><h2 id=使用burp-suite的repeater模块>使用Burp Suite的Repeater模块<a hidden class=anchor aria-hidden=true href=#使用burp-suite的repeater模块>#</a></h2><p>将抓到的包发送至<code>Repeater</code>模块，查看服务器端的响应包。可以获得一些服务器信息，如<code>Server类型及版本</code>、<code>PHP版本信息</code>等。</p><h2 id=github信息泄露>GitHub信息泄露<a hidden class=anchor aria-hidden=true href=#github信息泄露>#</a></h2><p>可以尝试在<code>GitHub</code>上搜寻敏感信息，如数据库连接信息、<code>uc-key</code>、阿里<code>osskey</code>、邮箱帐密等。</p><h1 id=4收集子域名>4、收集子域名<a hidden class=anchor aria-hidden=true href=#4收集子域名>#</a></h1><p>子域名，即二级域名，指顶级域名之下的域名。假设目标网站规模较大，一般来说从主站入手都是极不理智的选择，这时我们就可以考虑从子域迂回接近目标。</p><h3 id=子域名检测工具>子域名检测工具<a hidden class=anchor aria-hidden=true href=#子域名检测工具>#</a></h3><p><code>Layer子域名挖掘机</code>：较为常用，有域名、<code>解析IP</code>、<code>CDN列表</code>、<code>Web服务器</code>和网站状态。</p><p><code>subDomainBrute</code>：用小字典递归发现三级、四级甚至是五级域名。</p><p><code>Sublist3r</code>：能列举多种资源，如在<code>Google</code>、<code>Yahoo</code>、<code>Bing</code>、<code>Baidu</code>和<code>Ask</code>等搜索引擎中可查到的子域名，还可列出<code>Netcraft</code>、<code>VirusTota</code>、<code>ThreatCrow</code>、<code>DNSdumpster</code>和<code>Reverse DNS</code>查到的子域名。</p><h3 id=利用搜索引擎语法>利用搜索引擎语法<a hidden class=anchor aria-hidden=true href=#利用搜索引擎语法>#</a></h3><p>利用<code>site</code>语法搜索与某域名相关的网页信息。</p><h3 id=证书透明度公开日志枚举>证书透明度公开日志枚举<a hidden class=anchor aria-hidden=true href=#证书透明度公开日志枚举>#</a></h3><p>证书透明度（<code>Certificate Transparency</code>, <code>CT</code>）:是证书授权机构(<code>CA</code>)的一个项目，证书授权机构会将每个<code>SSL/TLS</code>证书发布到公共日志中。</p><p><code>SSL/TLS</code>证书通常包含域名、子域名和邮件信息，这些也经常成为攻击者想获得的信息。</p><p>在线网站：</p><p><a href=http://scrt.sh/>easyDNS Parked Page for: scrt.sh</a></p><p><a href=https://search.censys.io/>Censys Search</a></p><h1 id=5端口收集>5、端口收集<a hidden class=anchor aria-hidden=true href=#5端口收集>#</a></h1><p>通过扫描服务器开放端口及端口状态判断服务器存在的服务，进一步定制化攻击。</p><p>收集工具:</p><p><code>Nmap</code></p><p>无状态端口扫描工具<code>Masscan</code></p><p><code>ZMap</code></p><p>御剑高速TCP端口扫描工具</p><h2 id=常见端口及说明>常见端口及说明<a hidden class=anchor aria-hidden=true href=#常见端口及说明>#</a></h2><p>文件共享服务端口:</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>21/22/69</td><td style=text-align:center>Ftp/Tftp文件传输协议</td><td style=text-align:center>允许匿名上传、下载、爆破和嗅探操作</td></tr><tr><td style=text-align:center>139</td><td style=text-align:center>Samba服务</td><td style=text-align:center>爆破、未授权访问、远程代码执行</td></tr><tr><td style=text-align:center>389</td><td style=text-align:center>Ldap目录访问协议</td><td style=text-align:center>注入、允许匿名访问、弱口令</td></tr><tr><td style=text-align:center>2049</td><td style=text-align:center>Nfs服务</td><td style=text-align:center>配置不当</td></tr></tbody></table><p>远程连接服务端口:</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>22</td><td style=text-align:center>SSH远程连接</td><td style=text-align:center>爆破、文件传输、SSH隧道及内网代理转发</td></tr><tr><td style=text-align:center>23</td><td style=text-align:center>Telnet远程连接</td><td style=text-align:center>爆破、嗅探、弱口令</td></tr><tr><td style=text-align:center>3389</td><td style=text-align:center>Rdp远程桌面连接</td><td style=text-align:center>爆破、Shift(Windows Server 2k3以下系统)</td></tr><tr><td style=text-align:center>5632</td><td style=text-align:center>PyAnywhere</td><td style=text-align:center>抓取密码、代码执行</td></tr><tr><td style=text-align:center>5900</td><td style=text-align:center>VNC</td><td style=text-align:center>弱口令爆破</td></tr></tbody></table><p>Web应用服务端口:</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>80/443/8080</td><td style=text-align:center>常见Web服务端口</td><td style=text-align:center>爆破、Web攻击、对应服务器版本漏洞</td></tr><tr><td style=text-align:center>1352</td><td style=text-align:center>Lotus domino邮件服务</td><td style=text-align:center>爆破、弱口令、信息泄露</td></tr><tr><td style=text-align:center>4848</td><td style=text-align:center>Glassfish控制台</td><td style=text-align:center>弱口令</td></tr><tr><td style=text-align:center>7001/7002</td><td style=text-align:center>WebLogic控制台</td><td style=text-align:center>弱口令、Java反序列化</td></tr><tr><td style=text-align:center>8080/8089</td><td style=text-align:center>Jboss/Resin/Jetty/Jenkins</td><td style=text-align:center>反序列化、控制台弱口令</td></tr><tr><td style=text-align:center>9090</td><td style=text-align:center>WebSphere控制台</td><td style=text-align:center>弱口令、Java反序列化</td></tr><tr><td style=text-align:center>10000</td><td style=text-align:center>Webmin-Web控制面板</td><td style=text-align:center>弱口令</td></tr></tbody></table><p>数据库服务端口:</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>1433</td><td style=text-align:center>MSSQL</td><td style=text-align:center>注入、提权、爆破、SA弱口令</td></tr><tr><td style=text-align:center>1521</td><td style=text-align:center>Oracle</td><td style=text-align:center>注入、TNS爆破、反弹shell</td></tr><tr><td style=text-align:center>3306</td><td style=text-align:center>MySQL</td><td style=text-align:center>注入、提权、爆破</td></tr><tr><td style=text-align:center>5000</td><td style=text-align:center>SysBase/DB2</td><td style=text-align:center>爆破、注入</td></tr><tr><td style=text-align:center>5432</td><td style=text-align:center>PostgreSQL</td><td style=text-align:center>爆破、注入、弱口令</td></tr><tr><td style=text-align:center>6379</td><td style=text-align:center>Redis</td><td style=text-align:center>弱口令爆破、未授权访问</td></tr><tr><td style=text-align:center>27017/27018</td><td style=text-align:center>MongoDB</td><td style=text-align:center>爆破、未授权访问</td></tr></tbody></table><p>邮件服务端口：</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>25</td><td style=text-align:center>SMTP邮件服务</td><td style=text-align:center>邮件伪造</td></tr><tr><td style=text-align:center>110</td><td style=text-align:center>POP3协议</td><td style=text-align:center>爆破、嗅探</td></tr><tr><td style=text-align:center>143</td><td style=text-align:center>IMAP协议</td><td style=text-align:center>爆破</td></tr></tbody></table><p>常见协议端口：</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>53</td><td style=text-align:center>DNS域名系统</td><td style=text-align:center>域传送、缓存投毒、DNS欺骗、DNS劫持</td></tr><tr><td style=text-align:center>67/68</td><td style=text-align:center>DHCP服务</td><td style=text-align:center>欺骗、劫持</td></tr><tr><td style=text-align:center>161</td><td style=text-align:center>SNMP协议</td><td style=text-align:center>爆破、搜索目标内网信息</td></tr></tbody></table><p>特殊服务端口：</p><table><thead><tr><th style=text-align:center>端口号</th><th style=text-align:center>端口说明</th><th style=text-align:center>攻击思路</th></tr></thead><tbody><tr><td style=text-align:center>512/513/514</td><td style=text-align:center>Linux Rexec服务</td><td style=text-align:center>爆破、Rlogin登录</td></tr><tr><td style=text-align:center>873</td><td style=text-align:center>Rsync服务</td><td style=text-align:center>匿名访问、文件上传</td></tr><tr><td style=text-align:center>2181</td><td style=text-align:center>Zookeeper服务</td><td style=text-align:center>未授权访问</td></tr><tr><td style=text-align:center>3690</td><td style=text-align:center>Svn服务</td><td style=text-align:center>Svn泄露、未授权访问</td></tr><tr><td style=text-align:center>8069</td><td style=text-align:center>Zabbix服务</td><td style=text-align:center>远程执行、SQL注入</td></tr><tr><td style=text-align:center>9200/9300</td><td style=text-align:center>Elasticsearch服务</td><td style=text-align:center>远程执行</td></tr><tr><td style=text-align:center>11211</td><td style=text-align:center>Memcache服务</td><td style=text-align:center>未授权访问</td></tr><tr><td style=text-align:center>50000</td><td style=text-align:center>SAP Management Console</td><td style=text-align:center>远程执行</td></tr></tbody></table><h1 id=6指纹识别cms>6、指纹识别(CMS)<a hidden class=anchor aria-hidden=true href=#6指纹识别cms>#</a></h1><p>注意:指纹由于其终身不变性、唯一性和方便性，几乎已成为生物特征识别的代名词。本文所讲的指纹是指网站<code>CMS指纹识别</code>、计算机操作系统及<code>Web容器指纹识别</code>等。</p><p>概念:应用程序一般在<code>HTML</code>、<code>CSS</code>等文件中多少包含一些特征码，如<code>WordPress</code>在<code>robots.txt</code>中会包含<code>wp-admin</code>，<code>index.php</code>中会包含<code>generator=wordpress 3.xx</code>。这个特征就是<code>CMS</code>的指纹，当遇到其它网站也存在此特征时，即可快速判断<code>CMS</code>。</p><p><code>CMS</code>(<code>Content Managements System</code>):又称整站系统或文章系统。在2004年之前，若想对网站进行内容管理，基本都需要手工维护，但在信息爆炸的时代，这明显不是一种可行的方式，所以出现了<code>CMS</code>。客户只需安装好开发者提供的软件包，进行对应的环境配置即可定期更新数据来维护网站，节省了大量人力物力。</p><p>常见<code>CMS</code>：<code>Dedecms</code>(织梦)、<code>PHPWEB</code>、<code>PHPWind</code>、<code>PHPCMS</code>、<code>ECShop</code>、<code>Dvbbs</code>、<code>SiteWeaver</code>、<code>ASPCMS</code>、帝国、<code>Z-Blog WordPress</code>等。</p><p>常用工具:御剑Web指纹识别、<code>WhatWeb WebRobo</code>、椰树、轻量Web指纹识别等。</p><p>在线<code>CMS</code>指纹识别：</p><p><a href=https://www.yunsee.cn/>云悉互联网WEB资产在线梳理|在线CMS指纹识别平台 - 云悉安全平台 (yunsee.cn)</a></p><p><a href=https://www.whatweb.net/>WhatWeb - Next generation web scanner.</a></p><h1 id=7绕过cdn寻找真实ip>7、绕过CDN寻找真实IP<a hidden class=anchor aria-hidden=true href=#7绕过cdn寻找真实ip>#</a></h1><p><code>CDN</code>: 内容分发网络(<code>Content Delivery Network</code>)，主要解决因传输距离和不同运营商节点造成的网络速度性能低下的问题。简要来说，就是一组在不同运营商之间的对接节点上的高速缓存服务器，把用户经常访问的静态数据资源(如静态<code>HTML</code>、<code>CSS</code>、JS图片等文件)直接缓存到节点服务器上，当用户再次请求时，会直接分发到离用户最近的节点服务器上响应用户请求，当用户有实际数据交互时才会从远程<code>Web服务器</code>上响应，这样可以大大提高网站响应速度及用户体验。</p><p>目标网站有<code>CDN</code>:可以直接<code>ping</code>目标域名，但得到的只是离我们最近的一台目标节点<code>CDN服务器</code>，无法获取目标真实<code>IP</code>。</p><h2 id=观察目标是否使用cdn>观察目标是否使用CDN<a hidden class=anchor aria-hidden=true href=#观察目标是否使用cdn>#</a></h2><p>通过<a href=https://www.17ce.com/>网站测速|网站速度测试|网速测试|电信|联通|网通|全国|监控|CDN|PING|DNS 17CE.COM</a>实现全国多地<code>ping</code>服务器的操作，对比<code>解析IP</code>是否一致，若<code>解析IP</code>大多不一致或规律性强，则进一步查询<code>IP归属地</code>进行判断。</p><h2 id=绕过cdn寻找真实ip>绕过CDN寻找真实IP<a hidden class=anchor aria-hidden=true href=#绕过cdn寻找真实ip>#</a></h2><h3 id=内部邮箱源>内部邮箱源<a hidden class=anchor aria-hidden=true href=#内部邮箱源>#</a></h3><p>一般系统邮件服务器都在内部，并不会经过<code>CDN</code>解析，通过目标网站用户注册或<code>RSS订阅</code>来查看邮件、寻找邮件头中的邮件服务域名<code>IP</code>，<code>ping</code>这个域名就能获得目标真实<code>IP</code>。</p><blockquote><p>注:此方法对于第三方或公共邮件服务器无效。</p></blockquote><h3 id=扫描网站测试文件>扫描网站测试文件<a hidden class=anchor aria-hidden=true href=#扫描网站测试文件>#</a></h3><p>如<code>phpinfo</code>、<code>test</code>等，从而找到目标真实<code>IP</code>。</p><h3 id=分站域名>分站域名<a hidden class=anchor aria-hidden=true href=#分站域名>#</a></h3><p>一些大网站主站访问量大，所以需要挂<code>CDN</code>，但分站就不一样了。我们可以通过<code>ping</code>二级域名获取分站<code>IP</code>，<strong>存在主站和分站不是一个IP，但属于一个C段的可能</strong>。</p><h3 id=国外访问>国外访问<a hidden class=anchor aria-hidden=true href=#国外访问>#</a></h3><p>国内<code>CDN</code>往往只针对国内用户访问加速，国外<code>CDN</code>则不一定。通过国外在线代理网站访问就有可能获得真实<code>IP</code>。</p><h3 id=其它方式>其它方式<a hidden class=anchor aria-hidden=true href=#其它方式>#</a></h3><p>查询域名解析记录:如果目标很久未使用<code>CDN</code>，可以通过<a href=https://www.netcraft.com/>Netcraft | Internet Research, Cybercrime Disruption and PCI Security Services</a>观察域名<code>IP</code>的历史记录，也能够大致分析出目标<code>C段</code>。</p><p><code>APP</code>：如果目标有自己的<code>APP</code>，可以尝试用<code>Fiddler</code>或<code>bp</code>抓包找真实<code>IP</code>。</p><p>绕过<code>Cloud Flare CDN</code>：通过https://simcast.com/查询目标真实<code>IP</code>。</p><h3 id=验证ip>验证IP<a hidden class=anchor aria-hidden=true href=#验证ip>#</a></h3><p>最简单的方式就是直接访问。</p><p>在目标<code>C段</code>较大的情况下，尝试使用<code>Masscan</code>工具批量扫描对应<code>IP段</code>中所有打开对应端口的<code>IP</code>，逐个访问验证。</p><h1 id=8收集敏感目录文件>8、收集敏感目录文件<a hidden class=anchor aria-hidden=true href=#8收集敏感目录文件>#</a></h1><p>概念：探测<code>Web目录结构</code>及隐藏敏感文件是渗透测试不可缺少的环节，我们可以从中获取网站后台管理页面、文件上传页面甚至部分源码。</p><p>常用工具：</p><p>御剑后台扫描珍藏版</p><p><code>DirBuster</code></p><p><a href=https://www.webscan.cc/>同IP网站查询,C段查询,IP反查域名,C段旁注,旁注工具 (webscan.cc)</a></p><h1 id=9社会工程学>9、社会工程学<a hidden class=anchor aria-hidden=true href=#9社会工程学>#</a></h1><p>应用场景：通过钓鱼、查水表等方式获取信息。</p><blockquote><p>文章许可：本文采用<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>CC BY-NC-SA 4.0</a>许可协议，转载请注明出处。</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://oopsdc.com/tags/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/>信息搜集</a></li></ul><nav class=paginav><a class=prev href=https://oopsdc.com/post/%E8%87%AA%E5%AE%9A%E4%B9%89github%E4%B8%AA%E4%BA%BA%E8%B5%84%E6%96%99/><span class=title>« Prev</span><br><span>自定义GitHub个人资料</span></a>
<a class=next href=https://oopsdc.com/post/jboss%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/><span class=title>Next »</span><br><span>JBoss漏洞复现</span></a></nav></footer><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>Comments</span><hr></div><div id=tcomment></div><script src=https://cdn.staticfile.org/twikoo/1.6.6/twikoo.all.min.js></script>
<script>twikoo.init({envId:"https://twikoo-oopsdc.vercel.app/",el:"#tcomment",path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><div><span id=busuanzi_container_site_pv>Views: <span id=busuanzi_value_site_pv></span></span>
&nbsp;
<span id=busuanzi_container_site_uv>Visitors: <span id=busuanzi_value_site_uv></span></span></div><span>&copy; 2022 <a href=https://oopsdc.com/>0opsdc</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>